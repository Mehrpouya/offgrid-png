<!doctype><html><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Odyssey.js Scroll</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/x-icon" href="http://cartodb.github.io/odyssey.js/sandbox/favicon.png">
  <link rel="icon" type="image/png" href="http://cartodb.github.io/odyssey.js/sandbox/favicon.png">

  <link rel="stylesheet" href="http://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/themes/css/cartodb.css">
  <link rel="stylesheet" href="stylesheets/scroll.css">
  <script src="http://cartodb.github.io/odyssey.js/vendor/modernizr-2.6.2.min.js"></script>
</head>
<body>
    <div id="days">
            <ul id="daysList">
                <li ><a href="index.html">Introduction</a></li>
                <li class="selected"><a href="clearing.html">Clearing</a></li>
                <li ><a href="grass.html">Grass</a></li>
                <li ><a href="community.html">Community</a></li>
                <li ><a href="medicines.html">Medicines</a></li>
                <li ><a href="airstrip.html">Airstrip</a></li>
            </ul>
        </div>
  <div id="layout">
    <!--<div class="progress-bar"></div>-->

    <div class="inner-header">
      <div id="header"></div>
    </div>

    <div id="map_pos">
      <div id="map_container">
        <div id="map"></div>
      </div>
    </div>

    <div id="content"></div>

    <div id="credits">
      <span class="title" id="title">Title</span>
      <span class="author"><b id="author">By Name using</b> <a href="#">Odyssey.js</a><span>
    </span></span></div>
  </div> <!-- layout -->

  <script src="http://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/cartodb.js"></script>
  <script src="http://cartodb.github.io/odyssey.js/dist/odyssey.js" charset="UTF-8"></script>

  <script>
    O.Template({
      init: function() {
        var baseurl = this.baseurl = 'http://{s}.api.cartocdn.com/base-light/{z}/{x}/{y}.png';
        var map = this.map = L.map('map',{
          center: [0, 0],
          zoom: 4
        });

        this.map.scrollWheelZoom.disable();

        var basemap = this.basemap = L.tileLayer(baseurl, {
          attribution: 'data OSM - map CartoDB'
        }).addTo(map);

        var story = O.Story()

        this.story = story;
        this.miniprogressbar = O.MiniProgressBar();

        // trigger when  map_pos go out of the screen
        this.edge = O.Edge(
          O.Triggers.Scroll().less('map_pos').offset(0),
          O.Triggers.Scroll().greater('map_pos').offset(0)
        )
      },

      update: function(actions) {
        var self = this;

        this.story.clear();

        if (this.baseurl && (this.baseurl !== actions.global.baseurl)) {
          this.baseurl = actions.global.baseurl || 'http://0.api.cartocdn.com/base-light/{z}/{x}/{y}.png';

          this.basemap.setUrl(this.baseurl);
        }

        if (this.cartoDBLayer && ("http://"+self.cartoDBLayer.options.user_name+".cartodb.com/api/v2/viz/"+self.cartoDBLayer.options.layer_definition.stat_tag+"/viz.json" !== actions.global.vizjson)) {
          this.map.removeLayer(this.cartoDBLayer);

          this.cartoDBLayer = null;
          this.created = false;
        }

        if (actions.global.vizjson && !this.cartoDBLayer) {
          if (!this.created) { // sendCode debounce < vis loader
            cdb.vis.Loader.get(actions.global.vizjson, function(vizjson) {
              self.map.fitBounds(vizjson.bounds);

              cartodb.createLayer(self.map, vizjson)
                .done(function(layer) {
                  self.cartoDBLayer = layer;

                  var sublayer = layer.getSubLayer(0),
                      layer_name = layer.layers[0].options.layer_name,
                      filter = actions.global.cartodb_filter ? " WHERE "+actions.global.cartodb_filter : "";

                  sublayer.setSQL("SELECT * FROM "+layer_name+filter)

                  self.map.addLayer(layer);

                  self._resetActions(actions);
                }).on('error', function(err) {
                  console.log("some error occurred: " + err);
                });
            });

            this.created = true;
          }

          return;
        }

        this._resetActions(actions);
      },

      _resetActions: function(actions) {
        // update footer title and author
        var title_ = actions.global.title === undefined ? '' : actions.global.title,
            author_ = actions.global.author === undefined ? 'Using' : 'By '+actions.global.author+' using';

        document.getElementById('title').innerHTML = title_;
        document.getElementById('author').innerHTML = author_;
        document.title = title_ + " | " + author_ +' Odyssey.js';

        var TRIGGER_LINE = this.map.getSize().y + 50;
        this.story.addEvent(
          this.edge,
          O.Parallel(
            O.Actions.CSS($('#map_container')).toggleClass('attachTop'),
            O.Actions.CSS($('#content')).toggleClass('attachMap'),
            O.Actions.Debug().log('attach')
          )
        )

        // create content
        var content = '';

        var slide_ = actions[0];
        $('#header').html(slide_.html());

        this.story
          .addState(
            O.Scroll().within($('#header')),
            slide_(this)
          );

        for(var i = 1; i < actions.length; ++i) {
          var slide = actions[i];
          content += "<div id='s_" + i +"'>" + slide.html() + "</div>";
        }

        $('#content').html(content);

        // first slide is the header, skip it
        for(var i = 1; i < actions.length; ++i) {
          var slide = actions[i];
          this.story.addState(
            O.Triggers.Scroll().within('s_' + i).offset(TRIGGER_LINE),
            O.Parallel(
              slide(this),
              this.miniprogressbar.percent(100*i/(actions.length - 1))
            )
          )
        }

        if(window.scrollY === 0) {
          this.story.go(0);
        }
      }
    });
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-20934186-21', 'cartodb.github.io');
    ga('send', 'pageview');
  </script>


<script type="text/template" id="md_template">```
-baseurl: "http://a.tiles.mapbox.com/v3/jamiejcross.mi7nj31l/{z}/{x}/{y}.png"
-vizjson: "https://edinb.cartodb.com/u/offthegrid/api/v2/viz/f4d83cca-b620-11e4-b906-0e9d821ea90d/viz.json"
```

#Grass
```
- center: [-5.4074, -214.5877]
- zoom: 13
```
![Grass] (https://dl.dropboxusercontent.com/u/80615/2%20Clearing/Grass.jpg)

In the colonial era the Australian administration established Mondays as community work days in which people were banned from working in their gardens and were compelled instead to work on local infrastructure projects such as the building of roads, the clearing of bush, or the tidying up of their villages. 

![community day](https://dl.dropboxusercontent.com/u/80615/2%20Clearing/Road%20image%203.jpg)

Under colonial governance workdays were enforced by violence and the threat that government appointed village leaders (kiaps) would report stragglers to colonial patrol officers. Following independence the convention of Monday community days continued, although they were no longer enforced by violence. For many years volunteers from the surrounding villages continued to flock to the mission station on Mondays to help out, to clear grass, repair buildings, or construct new houses. 

#Grass
```
- center: [-5.3898, -214.5663]
- zoom: 15
```
![Grass] (https://dl.dropboxusercontent.com/u/80615/Grass/Grass%20Image%203.JPG)

Keeping the clearing free of grass requires on-going labour. Grass grows. It must be cut every week. Cutting the grass used to be a key part of community workdays, but people don’t see why they should do it any more. 

“People aren’t stupid anymore” Frank, one health worker explained. “Before the white people said ‘Oy! You kanakas [black hillbillies] you clear the grass’ and people did what they said. But now they have knowledge. Now they know there is money. The services have money. People are paid to work for the government. They won’t clear the grass anymore”. That people have to pay for their medicines further confuses things. Why should they pay user fees and also ‘volunteer’ to cut the grass? 


#Grass
```
- center: [-5.3829, -214.5597]
- zoom: 18
```

![Urirai](https://dl.dropboxusercontent.com/u/80615/1%20Introduction/Introduction%20Image%205.JPG)

Cut grass is a source of pride for health workers and community members alike. Long grass is a clear sign that something at the health centre is wrong. Often, local villagers use it exactly in this way, as a communicative device to let the health workers know they are unhappy. It is something of which the health workers, they say, should be ashamed. In recent years, with no one volunteering to cut the grass, the health centre has begun to force patients to cut it before they will be treated. 

Rather than opening the health centre at 8am, the health workers hand out scythes and knives to those standing in the queue and tell them they will open the doors when the grass is cut. Many of those waiting at the health centre are women with sick children. They hang their babies in string bags under the shade of the trees and bend their backs to work before they receive any medicine. It is often the men in the community who do not turn up to community day, but it is the young mothers who are forced to make up the work.

![Urirai2](https://dl.dropboxusercontent.com/u/90728/2%20Clearing/medicine.gif)

</script></body></html>