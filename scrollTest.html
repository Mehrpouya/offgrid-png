<!doctype><html><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Odyssey.js Scroll</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/x-icon" href="http://cartodb.github.io/odyssey.js/sandbox/favicon.png">
  <link rel="icon" type="image/png" href="http://cartodb.github.io/odyssey.js/sandbox/favicon.png">

  <link rel="stylesheet" href="http://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/themes/css/cartodb.css">
  <link rel="stylesheet" href="stylesheets/scroll.css">
  <script src="http://cartodb.github.io/odyssey.js/vendor/modernizr-2.6.2.min.js"></script>
</head>
<body>
    <div id="days">
            <ul id="daysList">
                <li ><a href="index.html">Introduction</a></li>
                <li class="selected"><a href="clearing.html">Clearing</a></li>
                <li ><a href="grass.html">Grass</a></li>
                <li ><a href="community.html">Community</a></li>
                <li ><a href="medicines.html">Medicines</a></li>
                <li ><a href="airstrip.html">Airstrip</a></li>
            </ul>
        </div>
  <div id="layout">
    <!--<div class="progress-bar"></div>-->

    <div class="inner-header">
      <div id="header"></div>
    </div>

    <div id="map_pos">
      <div id="map_container">
        <div id="map"></div>
      </div>
    </div>

    <div id="content"></div>

    <div id="credits">
      <span class="title" id="title">Title</span>
      <span class="author"><b id="author">By Name using</b> <a href="#">Odyssey.js</a><span>
    </span></span></div>
  </div> <!-- layout -->

  <script src="http://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/cartodb.js"></script>
  <script src="http://cartodb.github.io/odyssey.js/dist/odyssey.js" charset="UTF-8"></script>

  <script>
    O.Template({
      init: function() {
        var baseurl = this.baseurl = 'http://a.tiles.mapbox.com/v3/jamiejcross.mi7nj31l/{z}/{x}/{y}.png';
        var map = this.map = L.map('map',{
          center: [0, 0],
          zoom: 4,
          zoomControl:false
        });

        this.map.scrollWheelZoom.disable();

        var basemap = this.basemap = L.tileLayer(baseurl, {
          attribution: 'data OSM - map CartoDB'
        }).addTo(map);

        var story = O.Story();

        this.story = story;
//        this.miniprogressbar = O.MiniProgressBar();

        // trigger when  map_pos go out of the screen
        this.edge = O.Edge(
          O.Triggers.Scroll().less('map_pos').offset(0),
          O.Triggers.Scroll().greater('map_pos').offset(0)
        );
      },

      update: function(actions) {
        var self = this;

        this.story.clear();

        if (this.baseurl && (this.baseurl !== actions.global.baseurl)) {
          this.baseurl = actions.global.baseurl || 'http://a.tiles.mapbox.com/v3/jamiejcross.mi7nj31l/{z}/{x}/{y}.png';

          this.basemap.setUrl(this.baseurl);
        }

        if (this.cartoDBLayer && ("http://"+self.cartoDBLayer.options.user_name+".cartodb.com/api/v2/viz/"+self.cartoDBLayer.options.layer_definition.stat_tag+"/viz.json" !== actions.global.vizjson)) {
          this.map.removeLayer(this.cartoDBLayer);

          this.cartoDBLayer = null;
          this.created = false;
        }

        if (actions.global.vizjson && !this.cartoDBLayer) {
          if (!this.created) { // sendCode debounce < vis loader
            cdb.vis.Loader.get(actions.global.vizjson, function(vizjson) {
              self.map.fitBounds(vizjson.bounds);

              cartodb.createLayer(self.map, vizjson)
                .done(function(layer) {
                  self.cartoDBLayer = layer;

                  var sublayer = layer.getSubLayer(0),
                      layer_name = layer.layers[0].options.layer_name,
                      filter = actions.global.cartodb_filter ? " WHERE "+actions.global.cartodb_filter : "";

                  sublayer.setSQL("SELECT * FROM "+layer_name+filter)

                  self.map.addLayer(layer);

                  self._resetActions(actions);
                }).on('error', function(err) {
                  console.log("some error occurred: " + err);
                });
            });

            this.created = true;
          }

          return;
        }

        this._resetActions(actions);
      },

      _resetActions: function(actions) {
        // update footer title and author
        var title_ = actions.global.title === undefined ? '' : actions.global.title,
            author_ = actions.global.author === undefined ? 'Using' : 'By '+actions.global.author+' using';

        document.getElementById('title').innerHTML = title_;
        document.getElementById('author').innerHTML = author_;
        document.title = title_ + " | " + author_ +' Odyssey.js';

        var TRIGGER_LINE = this.map.getSize().y + 50;
        this.story.addEvent(
          this.edge,
          O.Parallel(
            O.Actions.CSS($('#map_container')).toggleClass('attachTop'),
            O.Actions.CSS($('#content')).toggleClass('attachMap'),
            O.Actions.Debug().log('attach')
          )
        )

        // create content
        var content = '';

        var slide_ = actions[0];
        $('#header').html(slide_.html());

//        this.story
//          .addState(
//            O.Scroll().within($('#header')),
//            slide_(this)
//          );

        for(var i = 1; i < actions.length; ++i) {
          var slide = actions[i];
          content += "<div id='s_" + i +"'>" + slide.html() + "</div>";
        }

        $('#content').html(content);

        // first slide is the header, skip it
        for(var i = 1; i < actions.length; ++i) {
          var slide = actions[i];
          this.story.addState(
            O.Triggers.Scroll().within('s_' + i).offset(TRIGGER_LINE),
            O.Parallel(
              slide(this)
//      ,       this.miniprogressbar.percent(100*i/(actions.length - 1))
            )
          )
        }

        if(window.scrollY === 0) {
          this.story.go(0);
        }
      }
    });
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-20934186-21', 'cartodb.github.io');
    ga('send', 'pageview');
  </script>


<script type="text/template" id="md_template">```
-baseurl:"http://a.tiles.mapbox.com/v3/jamiejcross.mi7nj31l/{z}/{x}/{y}.png"
```

#Airstrip
```
L.marker([37.7620, -122.4385]).actions.addRemove(S.map)
- center: [-5.3875, 145.4439]
- zoom: 17
```
![Airstrip Mark Doyle](https://dl.dropboxusercontent.com/u/80615/6%20Airstrip/Airstrip%20Image%201%20.jpg)

In the same year the health centre was built, the mission also leased land from the Parsok Clan (of Paisop) to create an airstrip, which the whole community helped to clear and build. 


#Airstrip
```
L.marker([40.7348, -73.9970]).actions.addRemove(S.map)
- center: [-5.3715, 145.4331]
- zoom: 14
```
![Airstrip Mark Doyle](https://dl.dropboxusercontent.com/u/80615/6%20Airstrip/Airstrip%20Image%202.JPG)

Through the mission station the world of Begasin was becoming increasingly connected to other worlds, people, and the resources attached to them. It was expensive to fly by plane, but if people became severely ill the mission would often fly them to the hospital. If the mission needed to bring in special materials, for repairing the health centre building, or new solar panels for the health workers’ houses, then they would often use the plane. 

#Airstrip
```
- center: [-5.4451, 145.3505]
- zoom: 11
```
![Shorty](https://dl.dropboxusercontent.com/u/80615/6%20Airstrip/Airstrip%20Image%2012.png)

One man, Shorty, from a nearby village (Orsok) was given the job of keeping radio contact with the mission air force, ordering planes when necessary and keeping the pilots updated on the status of the airstrip. 

![Cockpit](https://dl.dropboxusercontent.com/u/80615/6%20Airstrip/Airstrip%20Image%203.JPG)

![Cockpit](https://dl.dropboxusercontent.com/u/80615/6%20Airstrip/Airstrip%20Image%204.JPG)

#Airstrip
```
- center: [-5.3895, 145.4442]
- zoom: 16
```
![Cockpit](https://dl.dropboxusercontent.com/u/80615/6%20Airstrip/Airstrip%20Image%206.png)

The Wokaisor clan from further along the river were given the job of keeping the air strip clear of grass and repairing it when pigs dug it up. For this they were paid a small monthly retainer by the mission.

![Benok](https://dl.dropboxusercontent.com/u/80615/6%20Airstrip/Airstrip%20Image%207.JPG)

In 2009, however, relationships between the Wokaisor clan and the original landowners (the Parsok clan) began to break down. There was a sense that Wokaisor had benefitted more than others from the presence of the mission station. For example, a leader from the Wokaisor clan, Benok, had been made station manager before the last missionaries left, and there were suggestions that he was using the mission workshop and equipment for his family’s business projects. 

#Airstrip
```
- center: [-5.3847, 145.4360]
- zoom: 16
```

![Airstrip overgrown](https://dl.dropboxusercontent.com/u/80615/6%20Airstrip/Airstrip%20Image%2010a.JPG)

The Parsok clan began to question why they did not have the contract to clear the airstrip, as it was on their own land. One day when Benok and his family went to clear the airstrip a group of men from the Parsok clan attacked them with scythes. Benok and his family escaped without injury, and a local court later awarded them compensation. But by 2013 the Parsok clan had still not paid the compensation, Benok’s family were no longer cutting the grass, and the airstrip was overgrown. 

![Airstrip map](https://dl.dropboxusercontent.com/u/80615/6%20Airstrip/Airstrip%20Image%2011.JPG)
</script></body></html>